<% if params[:course_id] %>
  <% content_for :courses_content do %>
    <%= yield %>
  <% end %>
  <%= render template: "layouts/courses" %>
<% elsif params[:user_id] %>

  <% content_for :content do %>

    <script>
        function toggle() {
            if (document.querySelector('.sidebar').classList.contains('open')) {
                document.querySelector('.sidebar').classList.remove('open')
            } else {
                document.querySelector('.sidebar').classList.add('open')
            }

            if (document.querySelector('.sidebar-opener').classList.contains('open')) {
                document.querySelector('.sidebar-opener').classList.remove('open')
                document.querySelector('.sidebar-opener').innerHTML = ''
                let i = document.createElement("i");
                i.classList.add("fas", "fa-chevron-right")
                document.querySelector('.sidebar-opener').appendChild(i)

            } else {
                document.querySelector('.sidebar-opener').classList.add('open')
                document.querySelector('.sidebar-opener').innerHTML = ''
                let i = document.createElement("i");
                i.classList.add("fas", "fa-chevron-left")
                document.querySelector('.sidebar-opener').appendChild(i)
            }
        }
    </script>
    <div style="display: flex; flex-direction: row; ">
      <%= render partial: "shared/user_sidebar" %>
      <button class="btn btn-outline-secondary sidebar-opener" onclick="event.preventDefault(); toggle()">
        <i class="fas fa-chevron-right"></i>
      </button>
      <div id='courses-container' class="container w-100 mt-4 mb-5 overflow-hidden" style="min-height: 100vh">
        <%= content_for?(:users_content) ? yield(:users_content) : yield %>
      </div>
    </div>
  <% end %>

  <%= render template: "layouts/application" %>


<% else %>
  <%= render template: "layouts/application" %>
<% end %>