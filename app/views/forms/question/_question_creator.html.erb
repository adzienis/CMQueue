<% question ||= Question.new %>
<% available_tags ||= [] %>

<% presenter = QuestionStatesHelper::QuestionStatesPresenter.new(question) %>


<%= render partial: "question_state_modal", locals: { question: question } %>

<%= tag.div class: "card w-100 shadow-sm #{presenter.creator_classes}",
            style: presenter.creator_styles do %>
  <div class="card-body">
    <div class="card-title">
      <h3>
        Ask a Question
      </h3>
      <p class="text-muted">
        Use the form below to ask your question to the staff.
      </p>

      <hr>

      <%= tag.h1 do %>
        <%= tag.span class: "badge bg-primary" do %>
          Frozen
        <% end %>
        <hr>
      <% end if question.frozen? %>
      <%= tag.div do %>
        <%= tag.h1 do %>
          <%= "#{question.question_state.user.given_name} is answering your question." %>
          <%= tag.span class: "badge bg-success" do %> Resolving
          <% end %>
          <hr>
        <% end %>
      <% end if question.resolving? %>
    </div>
    <%= render partial: "form", locals: { question: question, available_tags: available_tags } %>
  </div>
<% end %>